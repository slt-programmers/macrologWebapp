<div class="date">
  <button type="button" class="date-button" (click)="previousDay()">
    <fa-icon [icon]="faChevronLeft"></fa-icon>
  </button>

  <div class="date-display" (click)="toggleOpen()">{{selectedDate | date: dateformat}}</div>

  <button type="button" class="date-button" (click)="nextDay()">
    <fa-icon [icon]="faChevronRight"></fa-icon> </button>
</div>

@if (isOpen) {
  <!-- TODO refactor overlay behind picker -->
<div class="overlay" (click)="toggleOpen($event)">
  <div class="picker">
    <div class="flex justify-between items-center">
      <button class="picker-button" (click)="previousMonth()">
        <fa-icon [icon]="faChevronLeft"></fa-icon>
      </button>

      <span>{{selectedDate | date: 'MMMM'}}</span>

      <button class="picker-button" (click)="nextMonth()">
        <fa-icon [icon]="faChevronRight"></fa-icon> </button>
    </div>

    <div class="picker-days">
      @for (weekday of weekdays; track weekday) {
      <span class="picker-weekday">{{weekday}}</span>
      }

      @for (placeholder of placeholders; track placeholder) {
      <span class="picker-day placeholder"></span>
      }

      @for (day of daysInMonthArray; track day) {
      <span class="picker-day" (click)="selectDay(day)">{{day}}</span>
      }
    </div>
  </div>
</div>
}