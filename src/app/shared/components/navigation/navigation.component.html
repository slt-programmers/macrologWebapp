<nav class="navbar fixed z-2">
  <div class="flex align-center h-100">
    <div class="navbar__item">
      <!-- TODO Make image -->
      <h1 class="logo pointer" [routerLink]="['/']">M</h1>
    </div>

    <div class="sm-only align-right">
      <div role="button" class="navbar__item" aria-label="menu" aria-expanded="false"
        (click)="toggleMenu()">
        <div class="navbar__hamburger-line"></div>
        <div class="navbar__hamburger-line"></div>
        <div class="navbar__hamburger-line"></div>
      </div>
    </div>

    <div class="overlay" *ngIf="menuOpen" (click)="toggleMenu()"></div>
    <div class="navbar__mobile-menu sm-only flex-col" *ngIf="menuOpen" (click)="toggleMenu()">
      <a class="navbar__item" [routerLink]="['/about']">About</a>
      <ng-container *ngIf="isLoggedIn()">
        <a class="navbar__item" [routerLink]="['/dashboard']">Diary</a>
        <a class="navbar__item" [routerLink]="['/dashboard', 'food']">Food</a>
        <a class="navbar__item" [routerLink]="['/dashboard', 'dishes']">Dishes</a>
        <a class="navbar__item" [routerLink]="['/dashboard', 'graphs']">Graphs</a>
        <a class="navbar__item" [routerLink]="['/dashboard', 'user']">Profile</a>
        <a class="navbar__item" *ngIf="isAdmin()" [routerLink]="['/dashboard', 'admin']">Admin</a>
        <a class="navbar__item" (click)="logOut()">Log out</a>
      </ng-container>

      <a id="menuLoginMobile" data-cy="menuLoginMobile" *ngIf="!isLoggedIn()" class="navbar__item" [routerLink]="['/login']">Log in</a>
      <a id="menuRegisterMobile" data-cy="menuRegisterMobile" *ngIf="!isLoggedIn()" class="navbar__item" [routerLink]="['/login']">Register</a>
    </div>

    <div class="flex align-center sm">
      <ng-container *ngIf="isLoggedIn()">
        <a id="menuDiary" class="navbar__item" [routerLink]="['/dashboard']">Diary</a>
        <a class="navbar__item" [routerLink]="['/dashboard', 'food']">Food</a>
        <a class="navbar__item" [routerLink]="['/dashboard', 'dishes']">Dishes</a>
        <a class="navbar__item" [routerLink]="['/dashboard', 'graphs']">Graphs</a>
      </ng-container>
      
      <a class="navbar__item" [routerLink]="['/about']">About</a>
    </div>

    <div class="flex align-center align-right sm">
      <div *ngIf="isLoggedIn()" class="navbar__item">
        <a id="menuProfile" class="navbar__item" [routerLink]="['/dashboard', 'user']">Profile</a>
        <a class="navbar__item" *ngIf="isAdmin()" [routerLink]="['/dashboard', 'admin']">Admin</a>
        <a class="navbar__item" (click)="logOut()">Log out</a>
      </div>

      <div *ngIf="!isLoggedIn()" class="navbar__item">
        <a id="menuLogin" data-cy="menuLogin" class="navbar__item" [routerLink]="['/login']">Log in</a>
      </div>

      <div *ngIf="!isLoggedIn()" class="navbar__item">
        <button id="menuRegister" data-cy="menuRegister" class="button button--primary" [routerLink]="['/login']">Register</button>
      </div>
    </div>
  </div>
</nav>

<div class="navbar-placeholder"></div>