<nav class="navbar z-2">
  <div class="flex align-center h-100">
    <div class="navbar__item">
      <h1 class="logo pointer" [routerLink]="['/']">M</h1>
    </div>

    <div class="sm-only align-right">
      <div role="button" class="navbar__item" aria-label="menu" aria-expanded="false"
        (click)="toggleMenu()">
        <div class="navbar__hamburger-line"></div>
        <div class="navbar__hamburger-line"></div>
        <div class="navbar__hamburger-line"></div>
      </div>
    </div>

    @if (menuOpen) {
      <div class="overlay" (click)="toggleMenu()"></div>
    }
    @if (menuOpen) {
      <div class="navbar__mobile-menu sm-only flex-col" (click)="toggleMenu()">
        <a class="navbar__item" [routerLink]="['/about']">About</a>
        @if (isLoggedIn()) {
          <a class="navbar__item" [routerLink]="['/dashboard']">Diary</a>
          <a class="navbar__item" [routerLink]="['/dashboard', 'food']">Food</a>
          <a class="navbar__item" [routerLink]="['/dashboard', 'dishes']">Dishes</a>
          <a class="navbar__item" [routerLink]="['/dashboard', 'graphs']">Graphs</a>
          <a class="navbar__item" [routerLink]="['/dashboard', 'user']">Profile</a>
          @if (isAdmin()) {
            <a class="navbar__item" [routerLink]="['/dashboard', 'admin']">Admin</a>
          }
          <a class="navbar__item" (click)="logOut()">Log out</a>
        }
        @if (!isLoggedIn()) {
          <a id="menuLoginMobile" data-cy="menuLoginMobile" class="navbar__item" [routerLink]="['/login']">Log in</a>
        }
        @if (!isLoggedIn()) {
          <a id="menuRegisterMobile" data-cy="menuRegisterMobile" class="navbar__item" [routerLink]="['/login']">Register</a>
        }
      </div>
    }

    <div class="flex align-center sm">
      @if (isLoggedIn()) {
        <a id="menuDiary" class="navbar__item" [routerLink]="['/dashboard']">Diary</a>
        <a id="menuFood" class="navbar__item" [routerLink]="['/dashboard', 'food']">Food</a>
        <a id="menuDishes" class="navbar__item" [routerLink]="['/dashboard', 'dishes']">Dishes</a>
        <a id="menuGraphs" class="navbar__item" [routerLink]="['/dashboard', 'graphs']">Graphs</a>
      }

      <a id="menuAbout" class="navbar__item" [routerLink]="['/about']">About</a>
    </div>

    <div class="flex align-center align-right sm">
      @if (isLoggedIn()) {
        <div class="navbar__item">
          <a id="menuProfile" class="navbar__item" [routerLink]="['/dashboard', 'user']">Profile</a>
          @if (isAdmin()) {
            <a id="menuAdmin" class="navbar__item" [routerLink]="['/dashboard', 'admin']">Admin</a>
          }
          <a id="menuLogout" class="navbar__item" (click)="logOut()">Log out</a>
        </div>
      }

      @if (!isLoggedIn()) {
        <div class="navbar__item">
          <a id="menuLogin" data-cy="menuLogin" class="navbar__item" [routerLink]="['/login']">Log in</a>
        </div>
      }

      @if (!isLoggedIn()) {
        <div class="navbar__item">
          <button id="menuRegister" data-cy="menuRegister" class="button button--primary" [routerLink]="['/login']">Register</button>
        </div>
      }
    </div>
  </div>
</nav>

<div class="navbar-placeholder"></div>