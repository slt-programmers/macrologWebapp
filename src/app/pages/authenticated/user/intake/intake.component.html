<div>
  <div class="form-field form-field--horizontal">
    <label class="form-field__label">Protein</label>
    <span class="form-field__text">{{goalProtein ? goalProtein + ' gram' : ''}}</span>
  </div>

  <div class="form-field form-field--horizontal">
    <label class="form-field__label">Fat</label>
    <span class="form-field__text">{{goalFat ? goalFat + ' gram' : ''}}</span>
  </div>

  <div class="form-field form-field--horizontal">
    <label class="form-field__label">Carbs</label>
    <span class="form-field__text">{{goalCarbs ? goalCarbs + ' gram' : ''}}</span>
  </div>

  <div class=" button-wrapper">
    <button class="button button--primary" (click)="openCalcModal()">Adjust intake</button>
  </div>
</div>

<ml-modal [title]="'Set your daily intake'" (close$)="closeCalcModal()" *ngIf="showCalcModal">
  <div class="calorie-box">
    <span class="calorie-box__title">{{calories | number : '1.0-0'}} Calories</span>
  </div>

  <div class="tabs">
    <div class="tabs-header">
      <div class="tab" (click)="showCaloriesTab()" [ngClass]="{'tab--active': showCalories}">Adjust
        calories
      </div>
      <div class="tab" (click)="showMacrosTab()" [ngClass]="{'tab--active': showMacros}">Adjust
        macro's
      </div>
    </div>

    <div class="tabs-content">
      <!--Calories-->
      <div *ngIf="showCalories">
        <div class="form-field">
          <div class="form-field__label form-field__label--small">Calories</div>
          <div class="">
            <ml-slider [value]="calories" (valueChange)="changeCalories($event)" [upperBound]="3000"
              [lowerBound]="1200" [markers]="markers"></ml-slider>
          </div>
        </div>

        <p>This results in the following macros:</p>

        <div class="macro-box">
          <p class="macro-box__macro"><strong>Protein: {{protein | number : '1.0-0'}} gr</strong>
          </p>
          <p class="macro-box__macro"><strong>Fat: {{fat | number : '1.0-0'}} gr</strong></p>
          <p class="macro-box__macro"><strong>Carbs: {{carbs | number : '1.0-0'}} gr</strong></p>
        </div>
      </div>

      <!--Macros-->
      <div *ngIf="showMacros">
        <div class="content">
          <div class="form-field">
            <label for="protein" class="form-field__label">Protein</label>
            <input name="protein" class="input form-field__input" (change)="calcCaloriesManual()"
              [(ngModel)]="proteinManual" type="number">
          </div>

          <div class="form-field">
            <label for="fat" class="form-field__label">Fat</label>
            <input name="fat" class="input form-field__input" (change)="calcCaloriesManual()"
              [(ngModel)]="fatManual" type="number">
          </div>

          <div class="form-field">
            <label for="carbs" class="form-field__label">Carbs</label>
            <input name="carbs" class="input form-field__input" (change)="calcCaloriesManual()"
              [(ngModel)]="carbsManual" type="number">
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="button-wrapper">
    <button class="button button-primary" (click)="saveIntake()">Save</button>
  </div>
</ml-modal>